webpackJsonp([1],{"2W2o":function(e,t){},"2dH1":function(e,t){},"7Otq":function(e,t,a){e.exports=a.p+"static/img/logo.6270425.png"},BO3W:function(e,t){},DesA:function(e,t){},GsCW:function(e,t){},"Gt/y":function(e,t){},HSN6:function(e,t){},IMbN:function(e,t){},KUdN:function(e,t){},LEZE:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),r=(a("j1ja"),a("7+uW")),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")({name:"App",data:function(){return{}}},o,!1,function(e){a("kRH2")},null,null).exports,n=a("/ocq"),c={name:"login",data:function(){return{labelPosition:"top",form:{username:"18581520828",password:"123456"}}},methods:{login:function(){var e=this;this.requestApiFnc("/login","post2",{username:this.form.username+"_phone",password:this.form.password},function(t){console.log(t.data.map.token),e.setStorage("login",e.$base64.encode(t.data.map.token)),e.tips("登录成功","success"),e.$router.push({path:"/home"})})},register:function(){this.tips("注册还没有做","warning")}},created:function(){var e=this.getStorage("login");console.log(e),null==e||"0"==e?console.log("没有登录"):(console.log("已经登录了 直接跳到首页"),this.$router.push({path:"/home"}))}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main"},[a("div",{staticClass:"loginWrapper "},[e._m(0),e._v(" "),a("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.form}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.register}},[e._v("注册账号")])],1)],1),e._v(" "),e._m(1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo "},[t("img",{attrs:{src:a("7Otq"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"copyright"},[t("span",[this._v("CUIT Campus Services Management System ")])])}]};var u=a("VU/8")(c,d,!1,function(e){a("ZsoT")},"data-v-b9fb39b0",null).exports,p={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var m=a("VU/8")({name:"register"},p,!1,function(e){a("fIx0")},"data-v-0b86fd0c",null).exports,h={name:"frame",data:function(){return{isCollapse:!1,nowTime:""}},computed:{isLogin:function(){return this.$store.state.isLogin},activeMenuIndex:function(){return this.$route.path}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},toggleNav:function(){this.isCollapse?this.isCollapse=!1:this.isCollapse=!0},logOff:function(){this.removeStorage("login"),this.tips("注销成功","success"),this.$router.push({path:"/login"})}},created:function(){var e=this;setInterval(function(){e.nowTime=e.showTime()},1e3);var t=this.getStorage("login");console.log(t),null==t?(console.log("没有登录"),this.$router.push({path:"/login"})):console.log("模拟登录成功")}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"frame"},[s("el-container",{staticClass:"frame-wrapper"},[s("el-header",{staticClass:"frame-header"},[s("div",{staticClass:"left wow fadeInLeft"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isCollapse,expression:"isCollapse"}],staticClass:"logo"},[s("img",{attrs:{src:a("7Otq"),alt:"logo"}})]),e._v(" "),s("span",[s("em",[e._v("CUIT")]),e._v(" 校园服务平台管理系统")]),e._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击这里可以展开和收起侧栏菜单~",manual:"",value:"",placement:"right-start"}},[s("el-button",{staticStyle:{"margin-left":"20px","font-weight":"bold"},attrs:{type:"text",size:"mini",icon:"el-icon-menu"},on:{click:e.toggleNav}},[e._v("切换菜单\n          ")])],1)],1),e._v(" "),s("div",{staticClass:"right clearfix wow fadeInRight"},[s("div",{staticClass:"time hidden-sm-and-down"},[e._v(e._s(e.nowTime))]),e._v(" "),s("div",{staticClass:"userInfo"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:a("UziH"),height:"45",width:"45"}})]),e._v(" "),s("el-dropdown",{attrs:{trigger:"click"}},[s("span",{staticClass:"el-dropdown-link"},[e._v("super"),s("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("i",{staticClass:"el-icon-bell"}),e._v(" 通知\n                "),s("el-badge",{staticClass:"mark",attrs:{value:12}})],1),e._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-refresh"}),e._v("\n                刷新\n              ")]),e._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-setting"}),e._v("\n                设置\n              ")]),e._v(" "),s("el-dropdown-item",[s("i",{staticClass:"c-icon-user"}),e._v(" "),s("el-button",{attrs:{type:"text"},on:{click:e.logOff}},[e._v("退出登录")])],1)],1)],1)],1)])]),e._v(" "),s("el-container",{staticClass:"frame-container"},[s("el-aside",{staticClass:"frame-aside"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}],staticClass:"logo"},[s("img",{attrs:{src:a("7Otq"),alt:"logo"}})]),e._v(" "),s("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{border:"none"},attrs:{"default-active":e.activeMenuIndex,router:!0,"unique-opened":!0,collapse:e.isCollapse,"background-color":"#4f5254","text-color":"#fff","active-text-color":"#33a0d7"},on:{open:e.handleOpen,close:e.handleClose}},[s("el-menu-item",{attrs:{index:"/home"}},[s("i",{staticClass:"fa fa-home"}),e._v(" "),s("span",[e._v("首页")])]),e._v(" "),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[s("i",{staticClass:"fa fa-newspaper-o"}),e._v(" "),s("span",[e._v("新闻资讯")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/releaseNews"}},[e._v("新闻发布")]),e._v(" "),s("el-menu-item",{attrs:{index:"/newsManagement"}},[e._v("新闻管理")]),e._v(" "),s("el-menu-item",{attrs:{index:"/newsType"}},[e._v("新闻分类")]),e._v(" "),s("el-menu-item",{attrs:{index:"/comments"}},[e._v("评论管理")]),e._v(" "),s("el-menu-item",{attrs:{index:"/slideshowManagement"}},[e._v("轮播图管理")])],2),e._v(" "),s("el-submenu",{attrs:{index:"4"}},[s("template",{slot:"title"},[s("i",{staticClass:"fa fa-users"}),e._v(" "),s("span",[e._v("用户")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/userManagement"}},[e._v("用户管理")]),e._v(" "),s("el-menu-item",{attrs:{index:"/role"}},[e._v("角色与权限")])],2),e._v(" "),s("el-submenu",{attrs:{index:"5"}},[s("template",{slot:"title"},[s("i",{staticClass:"fa fa-cog"}),e._v(" "),s("span",[e._v("系统设置")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/config"}},[e._v("基础信息")]),e._v(" "),s("el-menu-item",{attrs:{index:"/link"}},[e._v("友情链接")])],2)],1)],1),e._v(" "),s("el-main",[s("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var v=a("VU/8")(h,f,!1,function(e){a("IMbN")},"data-v-1b282a15",null).exports,g={name:"home",data:function(){return{getSize:"",arrayData:[{timeRange:"00:00-00:59",value:80},{timeRange:"01:00-01:59",value:20},{timeRange:"02:00-02:59",value:10},{timeRange:"03:00-03:59",value:10},{timeRange:"04:00-04:59",value:5},{timeRange:"05:00-05:59",value:3},{timeRange:"06:00-06:59",value:1},{timeRange:"07:00-07:59",value:6},{timeRange:"08:00-08:59",value:30},{timeRange:"09:00-09:59",value:32},{timeRange:"10:00-10:59",value:45},{timeRange:"11:00-11:59",value:47},{timeRange:"12:00-12:59",value:60},{timeRange:"13:00-13:59",value:120},{timeRange:"14:00-14:59",value:123},{timeRange:"15:00-15:59",value:189},{timeRange:"16:00-16:59",value:60},{timeRange:"17:00-17:59",value:100},{timeRange:"18:00-18:59",value:80},{timeRange:"19:00-19:59",value:70},{timeRange:"20:00-20:59",value:111},{timeRange:"21:00-21:59",value:90},{timeRange:"22:00-22:59",value:100},{timeRange:"23:00-23:59",value:69}],unit:"人次",chartColor:"#005da0",chartTitle:"今日实时访问量图表分析",chartType:"line",activeName:"tie",tableData:[{date:"2018-05-02",name:"宋波",address:"内容.........."},{date:"2018-05-04",name:"宋宋宋",address:"内容.........."}],t1:!0,t2:!1,t3:!0,t4:""}},methods:{handleClick:function(e,t){console.log(e,t)},displayChart:function(e){switch(e){case 1:this.chartColor="#005da0",this.unit="人次",this.chartType="line",this.arrayData=[{timeRange:"00:00-00:59",value:80},{timeRange:"01:00-01:59",value:20},{timeRange:"02:00-02:59",value:10},{timeRange:"03:00-03:59",value:10},{timeRange:"04:00-04:59",value:5},{timeRange:"05:00-05:59",value:3},{timeRange:"06:00-06:59",value:1},{timeRange:"07:00-07:59",value:6},{timeRange:"08:00-08:59",value:30},{timeRange:"09:00-09:59",value:32},{timeRange:"10:00-10:59",value:45},{timeRange:"11:00-11:59",value:47},{timeRange:"12:00-12:59",value:60},{timeRange:"13:00-13:59",value:120},{timeRange:"14:00-14:59",value:123},{timeRange:"15:00-15:59",value:189},{timeRange:"16:00-16:59",value:60},{timeRange:"17:00-17:59",value:100},{timeRange:"18:00-18:59",value:80},{timeRange:"19:00-19:59",value:70},{timeRange:"20:00-20:59",value:111},{timeRange:"21:00-21:59",value:90},{timeRange:"22:00-22:59",value:100},{timeRange:"23:00-23:59",value:69}],this.chartTitle="今日实时访问量图表分析";break;case 2:this.chartColor="#4270ae",this.unit="人次",this.chartType="line",this.arrayData=[{timeRange:"2018-9-1",value:453},{timeRange:"2018-9-2",value:234},{timeRange:"2018-9-3",value:335},{timeRange:"2018-9-4",value:310},{timeRange:"2018-9-5",value:80},{timeRange:"2018-9-6",value:652},{timeRange:"2018-9-7",value:333}],this.chartTitle="本月访问量图表分析";break;case 3:this.chartColor="#21a3b0",this.unit="人",this.chartType="bar",this.arrayData=[{timeRange:"2018-9-1",value:453},{timeRange:"2018-9-2",value:234},{timeRange:"2018-9-3",value:335},{timeRange:"2018-9-4",value:310},{timeRange:"2018-9-5",value:80},{timeRange:"2018-9-6",value:652},{timeRange:"2018-9-7",value:333},{timeRange:"2018-9-8",value:23}],this.chartTitle="过去七日活跃用户数据分析";break;case 4:this.chartColor="#7bbdbc",this.unit="人",this.chartType="bar",this.arrayData=[{timeRange:"2018-1",value:453},{timeRange:"2018-2",value:234},{timeRange:"2018-3",value:335},{timeRange:"2018-4",value:310},{timeRange:"2018-5",value:80},{timeRange:"2018-6",value:652},{timeRange:"2018-7",value:333},{timeRange:"2018-8",value:23},{timeRange:"2018-9",value:223},{timeRange:"2018-10",value:456}],this.chartTitle="本年度各月份活跃用户数据分析"}this.drawChart()},drawChart:function(e){for(var t=this.arrayData,a=[],s=[],i=0;i<t.length;i++)a.push(t[i].timeRange),s.push(t[i].value);var r=this.$echarts.init(document.getElementById("chart"));r.dispose(),(r=this.$echarts.init(document.getElementById("chart"))).setOption({animation:!e,title:{left:"center",text:this.chartTitle},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[""+this.unit],x:"right",y:"top"},xAxis:{type:"category",data:a,axisLabel:{interval:0,rotate:40}},yAxis:{type:"value",axisLabel:{formatter:"{value}"+this.unit}},grid:{x2:100,y2:150},series:[{data:s,name:this.unit,type:this.chartType,barMaxWidth:60,itemStyle:{normal:{color:this.chartColor}}}]})}},mounted:function(){var e=this;this.drawChart();var t="";t=document.getElementsByClassName("c-main")[0].clientWidth,this.getSize=setInterval(function(){try{var a=document.getElementsByClassName("c-main")[0].clientWidth;a!==t&&(e.drawChart(!0),t=a)}catch(e){console.log("Failed to get window size")}},1e3)},beforeDestroy:function(){clearInterval(this.getSize)},created:function(){this.toTop()}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main"},[a("el-row",{staticClass:"topArea  wow fadeInDown"},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("欢迎来到管理中心")]),e._v(" "),a("el-breadcrumb-item",[e._v("首页")])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"headArea panelArea wow fadeInDown"},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("仪表盘")]),e._v(" "),a("span",{staticClass:"description"},[e._v("信息聚合中心 实时展示系统动态")])])],1),e._v(" "),a("el-row",{staticClass:"dataVisualization  panelArea"},[a("el-col",{staticClass:"dataVisualization_item dataVisualization_item1 wow fadeInLeft",attrs:{span:6,xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"card",on:{mouseenter:function(t){e.displayChart(1)}}},[a("h3",[e._v("今日访问量"),a("br"),e._v(" "),a("b",[e._v("100")]),a("span",[e._v("(人次)")])]),e._v(" "),a("div",{staticClass:"viewMore"},[e._v("查看详细")])])]),e._v(" "),a("el-col",{staticClass:"dataVisualization_item dataVisualization_item2 wow fadeInLeft",attrs:{span:6,xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"card",on:{mouseenter:function(t){e.displayChart(2)}}},[a("h3",[e._v("本月访问量"),a("br"),e._v(" "),a("b",[e._v("1200")]),a("span",[e._v("(人次)")])]),e._v(" "),a("div",{staticClass:"viewMore"},[e._v("查看详细")])])]),e._v(" "),a("el-col",{staticClass:"dataVisualization_item dataVisualization_item3 wow fadeInRight",attrs:{span:6,xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"card",on:{mouseenter:function(t){e.displayChart(3)}}},[a("h3",[e._v("今日活跃用户"),a("br"),a("b",[e._v("20")]),a("span",[e._v("(人)")])]),e._v(" "),a("div",{staticClass:"viewMore"},[e._v("查看详细")])])]),e._v(" "),a("el-col",{staticClass:"dataVisualization_item dataVisualization_item4 wow fadeInRight",attrs:{span:6,xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"card",on:{mouseenter:function(t){e.displayChart(4)}}},[a("h3",[e._v("本月活跃用户"),a("br"),a("b",[e._v("200")]),a("span",[e._v("(人)")])]),e._v(" "),a("div",{staticClass:"viewMore"},[e._v("查看详细")])])])],1),e._v(" "),a("el-row",{staticClass:"chartArea  panelArea"},[a("el-col",{staticClass:"chart",attrs:{span:24}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"chart"}})])],1),e._v(" "),a("el-row",{staticClass:"tableArea  panelArea"},[a("el-col",{staticClass:"table",attrs:{span:12,xs:24}},[a("h3",[e._v("待处理事项")]),e._v(" "),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"未查看的系统通知",name:"tie"}},[a("span",{staticStyle:{"font-size":"12px"}},[e._v("数据出现异常，例如：访问量突然增高、出现刷帖等情形时触发检测程序，并在这里展示提示信息!")]),e._v(" "),a("el-alert",{staticStyle:{"margin-top":"10px"},attrs:{title:"2018-9-10 00:30 数据库定时自动备份成功！",type:"success"}}),e._v(" "),a("el-alert",{staticStyle:{"margin-top":"10px"},attrs:{title:"2018-9-9 11:30 系统访问量高于平时60%！",type:"warning"}}),e._v(" "),a("el-alert",{staticStyle:{"margin-top":"10px"},attrs:{title:"2018-9-9 10:30 检测到非法登录后台管理系统！",type:"error"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"待处理的举报",name:"second"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"内容"}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"未查看的留言",name:"third"}},[a("span",{staticStyle:{"font-size":"12px"}},[e._v("暂无未查看的留言!")])])],1)],1),e._v(" "),a("el-col",{staticClass:"console",staticStyle:{"padding-left":"150px"},attrs:{span:12,xs:24}},[a("h3",{staticStyle:{"margin-left":"-150px"}},[e._v("控制台")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"12px","margin-top":"15px","margin-bottom":"15px"}},[e._v(" 是否开启前台访问:")]),e._v(" "),a("el-switch",{attrs:{"active-color":"#005da0","inactive-color":"#33a0d7","active-text":"开启","inactive-text":"关闭"},model:{value:e.t1,callback:function(t){e.t1=t},expression:"t1"}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"12px","margin-top":"15px","margin-bottom":"15px"}},[e._v(" 是否开启用户注册:")]),e._v(" "),a("el-switch",{attrs:{"active-color":"#005da0","inactive-color":"#33a0d7","active-text":"开启","inactive-text":"关闭"},model:{value:e.t1,callback:function(t){e.t1=t},expression:"t1"}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"12px","margin-top":"15px","margin-bottom":"15px"}},[e._v(" 是否允许游客访问:")]),e._v(" "),a("el-switch",{attrs:{"active-color":"#005da0","inactive-color":"#33a0d7","active-text":"开启","inactive-text":"关闭"},model:{value:e.t1,callback:function(t){e.t1=t},expression:"t1"}}),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("执行")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(g,_,!1,function(e){a("v8oY")},"data-v-ef91c346",null).exports,w=a("pFYg"),y=a.n(w),C={name:"TableTools",props:{searchInfo:{type:Array,required:!1}},data:function(){return{search_input:!1,search_btn:!1,pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},inputData:[],form:{}}},methods:{showSearch:function(e){if(this.search_input=!this.search_input,this.search_input){var t=this.$refs.search_wrapper;t.style.top=e.clientY+"px",t.style.left=e.clientX-250+"px"}this.searchInfo.forEach(function(e){e.value=""})},search:function(e){var t=this.searchInfo.map(function(e){return e.value});this.$emit("search",t),this.showSearch()},refresh:function(){console.log(this),this.$emit("refresh","Table Tools Require Refresh!")},addFn:function(){this.$emit("addData","Table Tools Require Add!")},toggle:function(){console.log("切换"),this.$emit("toggleDisplay","")},clickFn:function(e){console.log(e),this.$refs.search_wrapper&&(this.$refs.search_wrapper.contains(e.target)||this.$refs.search_btn.contains(e.target)||this.search_input&&(this.search_input=!1))}},created:function(){console.log("table Tools was created!"),this.searchInfo&&(this.search_btn=!0)},mounted:function(){document.addEventListener("click",this.clickFn)},destroyed:function(){document.removeEventListener("click",this.clickFn)}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"componentWrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.search_input,expression:"search_input"}],ref:"search_wrapper",staticClass:"search_wrapper"},[e._l(e.searchInfo,function(t,s){return a("div",{key:s},[a("label",{attrs:{for:t.name}},[e._v(e._s(t.label))]),e._v(" "),"timeRange"!==t.name?a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.value,expression:"item.value",modifiers:{trim:!0}}],attrs:{autocomplete:"off",name:t.name,type:t.inputType,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(a){a.target.composing||e.$set(t,"value",a.target.value.trim())},blur:function(t){e.$forceUpdate()}}}):e._e(),e._v(" "),"timeRange"===t.name?a("el-date-picker",{staticStyle:{width:"200px","font-size":"12px",margin:"5px auto"},attrs:{"value-format":"timestamp",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e()],1)}),e._v(" "),a("button",{staticClass:"btn",on:{click:function(t){e.search()}}},[e._v("搜索")])],2),e._v(" "),a("div",{staticClass:"tools"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.search_btn,expression:"search_btn"}],ref:"search_btn",staticClass:"btn",on:{click:function(t){e.showSearch(t)}}},[a("span",{staticClass:"fa fa-search"})]),e._v(" "),a("button",{staticClass:"btn",on:{click:function(t){e.refresh()}}},[a("span",{staticClass:"fa fa-refresh"})]),e._v(" "),a("button",{staticClass:"btn",on:{click:function(t){e.addFn()}}},[a("span",{staticClass:"fa fa-plus"})]),e._v(" "),e._m(0),e._v(" "),a("button",{staticClass:"btn1",on:{click:function(t){e.toggle()}}},[a("span",{staticClass:" fa fa-bar-chart"})])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn"},[t("span",{staticClass:"fa fa-download"})])}]};var k=a("VU/8")(C,x,!1,function(e){a("Gt/y")},"data-v-da2e3ca8",null).exports,D={name:"EchartComponent",props:{title:{type:String,required:!0},subtext:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{chartColor:"#33a0d7"}},methods:{drawChart:function(){var e=this.$echarts.init(this.$refs.chart),t={};switch(this.type){case"bar":t=this.barChart();break;case"line":t=this.lineChart();break;case"rank":t=this.rankChart()}e.setOption(t)},barChart:function(){return{title:{text:this.title,subtext:this.subtext},grid:{show:!0,top:80,bottom:40},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"bar",itemStyle:{normal:{color:this.chartColor}}}]}},rankChart:function(){return{title:{text:this.title,subtext:this.subtext},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2018年"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["新闻标题123","新闻标题123","新闻标题123","新闻标题123","新闻标题123","新闻标题123"]},series:[{name:"2018年",type:"bar",data:[18203,23489,29034,104970,131744,630230],itemStyle:{normal:{color:this.chartColor}}}]}},lineChart:function(){return{title:{text:this.title,subtext:this.subtext},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",itemStyle:{normal:{color:this.chartColor}}}]}}},mounted:function(){this.drawChart()},created:function(){}},T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"componentWrapper"},[t("div",{ref:"chart",staticClass:"chart"})])},staticRenderFns:[]};var A={name:"newsManagement",components:{TableTools:k,EchartComponent:a("VU/8")(D,T,!1,function(e){a("2W2o")},"data-v-c8ac4af4",null).exports},data:function(){return{displayInfo:"table",loading:!1,currentPage:1,page_total:0,page_size:10,tableData:[],searchInfo:[{name:"title",label:"标题",inputType:"text",placeholder:"请输入需要搜索的标题",value:""},{name:"author",label:"作者",inputType:"text",placeholder:"请输入作者名称",value:""},{name:"timeRange",label:"时间区间",inputType:"text",placeholder:"请输入时间区间",value:""}],searchData:[]}},methods:{handleSizeChange:function(e){this.page_size=e,this.currentPage=1,this.searchData.length>0?this.search():this.getNewsList()},handleCurrentChange:function(e){this.currentPage=e,this.searchData.length>0?this.search():this.getNewsList()},resetPaging:function(){this.currentPage=1,this.page_size=10},search:function(e){var t=this;console.log("search"),e&&(this.searchData=e,this.resetPaging());var a,s,i,r=void 0,o=void 0;a=this.searchData[0],s=this.searchData[1],i=this.searchData[2],a||s||i?("object"===(void 0===i?"undefined":y()(i))&&null!==i&&(console.log(i),r=Math.floor(i[0]/1e3),o=Math.floor(i[1]/1e3)),this.requestApiFnc("/news/getNewsByQuery","get",{startTime:r||"",endTime:o||"",title:a,author:s,pageNum:this.currentPage,pageSize:this.page_size},function(e){console.log(e);var a=e.data,s=a.code,i=a.map.pageInfo,r=i.list,o=i.total,l=a.message;200===s?(t.tableData=r.map(function(e){return e.createTime=t.showTime(e.createTime),e}),t.page_total=o):t.ele_alert(l,"error")}),console.log(a,s,r,o)):this.ele_alert("你没有输入任何搜索选项哦~","warning")},refresh:function(e){this.searchData=[],this.getNewsList()},getNewsList:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.page_size};this.requestApiFnc("/news/getAll","get",t,function(a){var s=a.data,i=s.code,r=s.map.pageInfo,o=r.list,l=r.total,n=s.message;200===i?(console.log(i,t,o,l),e.tableData=o.map(function(t){return t.createTime=e.showTime(t.createTime),t}),e.page_total=l):e.ele_alert(n,"error")})},operateDialog:function(){},editNews:function(e){this.$router.push({path:"/releaseNews",query:{action:"edit",newsId:e.id}})},deleteNews:function(e){var t=this;this.ele_confirm("你确定删除这篇新闻吗？","warning",function(){console.log(e.id),t.requestApiFnc("/news/delete","delete",{newsId:e.id},function(e){var a=e.data,s=a.code,i=a.message;200===s?(t.tips(i,"success"),t.getNewsList()):t.ele_alert(i,"error")})},function(){return t.tips("你已取消删除！")})},toggleDisplay:function(){"table"===this.displayInfo?this.displayInfo="chart":this.displayInfo="table"},addData:function(){this.$router.push({path:"/releaseNews"})}},mounted:function(){},created:function(){this.toTop(),this.getNewsList()}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("新闻资讯")]),e._v(" "),a("el-breadcrumb-item",[e._v("新闻管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("新闻管理")]),e._v(" "),a("span",{staticClass:"description"},[e._v("校园新闻资讯的管理")])])],1),e._v(" "),a("TableTools",{staticStyle:{"margin-bottom":"20px"},attrs:{searchInfo:e.searchInfo},on:{search:e.search,refresh:e.refresh,addData:e.addData,toggleDisplay:function(t){e.toggleDisplay()}}}),e._v(" "),"table"===e.displayInfo?a("div",{staticClass:"tableWrapper"},[a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:24}},[this.searchData.length?a("el-alert",{attrs:{title:"以下是搜索结果：",type:"info",closable:!1}}):e._e()],1)],1),e._v(" "),a("el-row",{staticClass:"panelArea "},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{width:"50",type:"index",align:"center",label:"#"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题","min-width":"500",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"作者","min-width":"120",prop:"authorName"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类","min-width":"120",prop:"typeName"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"120",prop:"status"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布时间","min-width":"150",prop:"createTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"阅读数","min-width":"100",prop:"viewCount"}}),e._v(" "),a("el-table-column",{attrs:{label:"点赞数","min-width":"100",prop:"likeCount"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editNews(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteNews(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40,50],"page-size":e.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.page_total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1):e._e(),e._v(" "),"chart"===e.displayInfo?a("div",{staticClass:"chartWrapper"},[a("el-row",{staticClass:"panelArea"},[e._v("\n        查询周期："),a("input",{attrs:{type:"text",placeholder:"  按年  按月  按日"}}),e._v("\n\n        查询时间范围："),a("input",{attrs:{type:"text",placeholder:" 开始时间"}}),e._v(" - "),a("input",{attrs:{type:"text",placeholder:"结束时间"}}),e._v(" "),a("button",[e._v("查询")])]),e._v(" "),a("el-row",{staticClass:"panelArea echartWrapper"},[a("div",{staticClass:"echart"},[a("EchartComponent",{attrs:{title:"阅读量排行榜",subtext:"新闻阅读量排行榜",type:"rank"}})],1),e._v(" "),a("div",{staticClass:"echart"},[a("EchartComponent",{attrs:{title:"点赞量排行榜",subtext:"新闻点赞量量排行榜",type:"rank"}})],1),e._v(" "),a("div",{staticClass:"echart"},[a("EchartComponent",{attrs:{title:"新闻模块各周期阅读量分析-折线图",subtext:"可以按年 按月 按天的 周期 来进行查询",type:"line"}})],1),e._v(" "),a("div",{staticClass:"echart"},[a("EchartComponent",{attrs:{title:"新闻模块各周期阅读量分析-柱状图",subtext:"可以按年 按月 按天的 周期 来进行查询",type:"bar"}})],1)])],1):e._e()],1)],1)},staticRenderFns:[]};var I=a("VU/8")(A,$,!1,function(e){a("BO3W")},"data-v-baeccef6",null).exports,N={name:"releaseNews",data:function(){return{uploadUrl:window.CUIT_server.API_ROOT+"/user/uploadImg",form:{id:"",title:"",firstImg:"",type:"",digest:"",content:"",contentHtml:"",option:["允许评论"]},editModel:!1,newsType:[]}},methods:{$imgDel:function(e){delete this.img_file[e]},$imgAdd:function(e,t){var a=this,s=new FormData;s.append("file",t),console.log(s.get("file")),this.$axios({url:"/user/uploadImg",method:"post",data:s,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t);var s=window.CUIT_server.API_ROOT+"/"+t.data.map.url;a.$refs.md.$img2Url(e,s)}).catch(function(e){})},getHtmlContent:function(e,t){this.form.contentHtml=t},getNewsType:function(){var e=this;this.requestApiFnc("/newsType/getAll","get",{pageNum:1,pageSize:100},function(t){var a=t.data,s=a.code,i=a.map.pageInfo.list,r=a.message;a.success;200===s?e.newsType=i:e.ele_alert(r,"error")})},moni:function(){var e=this,t=["晃晃悠悠的一朝一暮","追光的人，身披万丈光芒","一辈子很短，要欢喜","愿所有的久别重逢都是别来无恙​​​​","往上攀，总能登顶","华为拿下25份5G商业合同全球第一","俄军新型武器可保俄十年安全","三星发布Micro LED电视及未来人工智能平台","备战 2019，小米的 6 大动作和 3 个逻辑","俄军新型武器可保俄十年安全","三星发布Micro LED电视及未来人工智能平台","备战 2019，小米的 6 大动作和 3 个逻辑"];setInterval(function(){var a=void 0,s=void 0;a=-1!==e.form.option.indexOf("允许评论")?1:0,s=-1!==e.form.option.indexOf("置顶")?1:0;var i={title:t[Math.floor(10*Math.random())]+Math.floor(10*Math.random())+Math.floor(10*Math.random()),author:"33ea7030-d38f-4d0b-8338-b2ba36f2d7ad",type:"f38b292e-14ac-4738-b0d9-accd74f968aa",digest:"测试摘要测试摘要测试摘要测试摘要测试摘要",firstImg:"http://120.78.149.155:8040/1545232360678.jpeg",content:"测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容![croppedtimg.jpg](http://120.78.149.155:8040/1545232379678.jpeg)",contentHtml:"<p>测试内容测试内容测试内容测试内容测试内容测试内容测试内容测试内容<img src='http://120.78.149.155:8040/1545232379678.jpeg' alt='croppedtimg.jpg' /></p>",status:1,discuss:a,important:s};e.requestApiFnc("/news/add","post",i,function(t){var a=t.data,s=a.code,i=(a.map,a.message);200===s?e.tips("发布新闻成功！","success"):e.ele_alert(i,"error")})},1500)},onSubmit:function(e){var t=this,a=void 0,s=void 0;a=-1!==this.form.option.indexOf("允许评论")?1:0,s=-1!==this.form.option.indexOf("置顶")?1:0;var i={title:this.form.title,author:"3f3ff415-b27f-46cd-bf4d-17b8b14836a8",type:this.form.type,digest:this.form.digest,firstImg:this.form.firstImg,content:this.form.content,contentHtml:this.form.contentHtml,status:e,discuss:a,important:s};this.requestApiFnc("/news/add","post",i,function(e){var a=e.data,s=a.code,i=(a.map,a.message);200===s?t.ele_alert("发布新闻成功！","success",function(){return t.$router.push({path:"/newsManagement"})}):t.ele_alert(i,"error")})},updateNews:function(e){var t=this,a=void 0,s=void 0;a=-1!==this.form.option.indexOf("允许评论")?1:0,s=-1!==this.form.option.indexOf("置顶")?1:0;var i={id:this.form.id,title:this.form.title,author:"3f3ff415-b27f-46cd-bf4d-17b8b14836a8",type:this.form.type,digest:this.form.digest,firstImg:this.form.firstImg,content:this.form.content,contentHtml:this.form.contentHtml,status:e,discuss:a,important:s};this.requestApiFnc("/news/update","put",i,function(e){var a=e.data,s=a.code,i=(a.map,a.message);200===s?t.ele_alert("发布新闻成功！","success",function(){return t.$router.push({path:"/newsManagement"})}):t.ele_alert(i,"error")})},handleRemove:function(e,t){console.log(e,t)},uploadSuccess:function(e,t,a){console.log(e,t,a),this.form.firstImg=window.CUIT_server.API_ROOT+"/"+e.map.url,console.log(this.form.firstImg)},uploadError:function(e,t,a){console.log(e,t,a)},initEditModel:function(e){var t=this;this.requestApiFnc("/news/getnewsById","get",{newsId:e},function(e){console.log(e);var a=e.data,s=a.code,i=a.map.news,r=a.message;200===s?(t.form.id=i.id,t.form.title=i.title,t.form.digest=i.digest,t.form.content=i.content,t.form.type=i.type,t.form.firstImg=i.firstImg,t.form.option=[],i.discuss&&t.form.option.push("允许评论"),i.important&&t.form.option.push("置顶")):t.ele_alert(r,"error",function(){return t.$router.push({path:"/newsManagement"})},function(){return t.$router.push({path:"/newsManagement"})})})}},mounted:function(){},created:function(){this.toTop(),this.getNewsType();var e=this.$route.query.action,t=this.$route.query.newsId;e&&t&&(this.editModel="edit"===e,this.editModel&&this.initEditModel(t))}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("新闻资讯")]),e._v(" "),a("el-breadcrumb-item",[e._v("发布新闻")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("发布新闻")]),e._v(" "),a("span",{staticClass:"description"},[e._v("发布校园新闻资讯")])])],1),e._v(" "),a("el-row",{staticClass:"panelArea "},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{staticStyle:{position:"relative"}},[a("el-upload",{attrs:{action:e.uploadUrl,limit:1,multiple:!1,"on-error":e.uploadError,"on-remove":e.handleRemove,"on-success":e.uploadSuccess,"list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.newsType,function(e){return a("el-option",{key:e.id,attrs:{label:e.typeName,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"摘要"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.digest,callback:function(t){e.$set(e.form,"digest",t)},expression:"form.digest"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容"}},[a("mavon-editor",{ref:"md",staticStyle:{height:"400px"},on:{change:e.getHtmlContent,imgAdd:e.$imgAdd,imgDel:e.$imgDel},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选项"}},[a("el-checkbox-group",{model:{value:e.form.option,callback:function(t){e.$set(e.form,"option",t)},expression:"form.option"}},[a("el-checkbox",{attrs:{label:"允许评论",name:"discuss"}}),e._v(" "),a("el-checkbox",{attrs:{label:"置顶",name:"top"}})],1)],1),e._v(" "),this.editModel?a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.updateNews(1)}}},[e._v("确认修改并发布")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.updateNews(0)}}},[e._v("确认修改并保存为草稿")]),e._v(" "),a("el-button",{attrs:{size:"small"}},[e._v("取消")])],1):a("el-form-item",[a("button",{on:{click:function(t){e.moni()}}},[e._v("模拟")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.onSubmit(1)}}},[e._v("发布资讯")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.onSubmit(0)}}},[e._v("保存草稿")]),e._v(" "),a("el-button",{attrs:{size:"small"}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(N,R,!1,function(e){a("HSN6")},"data-v-74ce6278",null).exports,E={name:"slideshow-management",data:function(){return{sliderData:[],fullscreenLoading:!1}},methods:{controlStatus:function(e){var t=this,a=!0;this.sliderData.forEach(function(s,i){i===e&&(0===s.status?(""!==t.sliderData[i].newsTitle&&""!==t.sliderData[i].rUrl&&""!==t.sliderData[i].imgUrl&&""!==t.sliderData[i].remark||(t.ele_alert("你必须完整填写这条轮播图数据才能启用它！","warning"),a=!1),a&&(s.status=1)):s.status=0)})},getSlider:function(){var e=this;this.requestApiFnc("/newsTurn/getAll","get",null,function(t){var a=t.data,s=a.code,i=a.map.turn,r=a.message;a.success;200===s?e.sliderData=i:e.ele_alert(r,"error")})},addSlider:function(){this.sliderData.push({title:"",url:"",imgUrl:"",remark:"",status:0})},deleteSlider:function(e){var t=this;this.ele_confirm("确定删除吗？","warning",function(){t.sliderData.splice(e,1),t.tips("已删除，保存后生效！","success")},function(){return t.tips("已取消删除！","info")})},saveSlider:function(){var e=this,t=!0;this.sliderData.forEach(function(e){""!==e.newsTitle&&""!==e.rUrl&&""!==e.imgUrl&&""!==e.remark||(t=!1)}),t?this.requestApiFnc("/newsTurn/addList","post",{request:this.sliderData},function(t){console.log(t);var a=t.data,s=a.code,i=(a.map,a.message);a.success;200===s?(e.ele_alert(i,"success"),e.getSlider()):e.ele_alert(i,"error")},function(e){return console.log(e)}):this.ele_alert("请将轮播图数据填写完整后再保存！","warning")},drag:function(e,t){this.moveDom=e.currentTarget,this.startY=e.clientY,e.dataTransfer.setData("index",t),console.log(t)},drop:function(e,t){e.preventDefault();var a=parseInt(e.dataTransfer.getData("index")),s=parseInt(t);console.log("start",a),console.log("drop",s),a-s>0?(console.log("大于"),this.sliderData.splice(s,0,this.sliderData[a]),console.log("删除"+a+1),this.sliderData.splice(a+1,1)):a-s<0?(console.log("小于"),this.sliderData.splice(s+1,0,this.sliderData[a]),this.sliderData.splice(a,1)):console.log("什么也不用做")},allowDrop:function(e){e.preventDefault(),this.endY=e.clientY}},mounted:function(){},created:function(){this.toTop(),this.getSlider()}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("新闻资讯")]),e._v(" "),a("el-breadcrumb-item",[e._v("轮播图管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("轮播图管理")]),e._v(" "),a("span",{staticClass:"description"},[e._v("系统首页轮播图管理")])])],1),e._v(" "),a("el-row",{staticClass:"panelArea "},[a("el-col",{attrs:{span:24}},[a("ul",{staticClass:"slideManage"},[a("li",{staticClass:"s-header"},[a("div",{staticClass:"li_item th order"},[e._v("#")]),e._v(" "),a("div",{staticClass:"li_item th title"},[e._v("标题")]),e._v(" "),a("div",{staticClass:"li_item th url"},[e._v("跳转链接")]),e._v(" "),a("div",{staticClass:"li_item th imgUrl"},[e._v("图片链接")]),e._v(" "),a("div",{staticClass:"li_item th description"},[e._v("描述")]),e._v(" "),a("div",{staticClass:"li_item th option"},[e._v("操作")])]),e._v(" "),e._l(e.sliderData,function(t,s){return a("li",{key:s,staticClass:"li_row",attrs:{draggable:"true"},on:{dragstart:function(t){e.drag(t,s)},drop:function(t){e.drop(t,s)},dragover:function(t){e.allowDrop(t)}}},[a("div",{staticClass:"li_item order"},[e._v(e._s(s+1))]),e._v(" "),a("div",{staticClass:"li_item title"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newsTitle,expression:"item.newsTitle",modifiers:{trim:!0}}],class:{"text-line":!t.status},attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.newsTitle},on:{input:function(a){a.target.composing||e.$set(t,"newsTitle",a.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"li_item url"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.rUrl,expression:"item.rUrl",modifiers:{trim:!0}}],class:{"text-line":!t.status},attrs:{type:"text",placeholder:"链接需加上 http:// 或 https://"},domProps:{value:t.rUrl},on:{input:function(a){a.target.composing||e.$set(t,"rUrl",a.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"li_item imgUrl"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.imgUrl,expression:"item.imgUrl",modifiers:{trim:!0}}],class:{"text-line":!t.status},attrs:{type:"text",placeholder:"请输入图片链接"},domProps:{value:t.imgUrl},on:{input:function(a){a.target.composing||e.$set(t,"imgUrl",a.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"li_item description"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.remark,expression:"item.remark",modifiers:{trim:!0}}],class:{"text-line":!t.status},attrs:{type:"text",placeholder:"请输入描述"},domProps:{value:t.remark},on:{input:function(a){a.target.composing||e.$set(t,"remark",a.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"li_item option"},[0===t.status?a("el-button",{attrs:{type:"text"},on:{click:function(t){e.controlStatus(s)}}},[a("span",{staticClass:"font-color-green"},[e._v("启用")])]):e._e(),e._v(" "),1===t.status?a("el-button",{attrs:{type:"text"},on:{click:function(t){e.controlStatus(s)}}},[a("span",{staticClass:"font-color-red"},[e._v("禁用")])]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.deleteSlider(s)}}},[e._v("删除")])],1)])})],2)])],1),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addSlider()}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.saveSlider()}}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var z=a("VU/8")(E,q,!1,function(e){a("h91+")},"data-v-02cac524",null).exports,L={name:"newsCatalogue",components:{TableTools:k},data:function(){return{loading:!1,addOrEditDialog:{display:!1,action:"",title:"标题",LabelWidth:"80px",currentData:""},form:{id:"",name:"",description:""},tableData:[]}},methods:{getNewsType:function(){var e=this;this.requestApiFnc("/newsType/getAll","get",{pageNum:1,pageSize:100},function(t){var a=t.data,s=a.code,i=a.map.pageInfo.list,r=a.message;a.success;200===s?e.tableData=i:e.ele_alert(r,"error")})},refresh:function(){this.getNewsType()},addData:function(){this.operateDialog("add")},operateDialog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"add"===e?(this.addOrEditDialog.action="add",this.addOrEditDialog.title="添加分类",this.addOrEditDialog.display=!0,this.form.name="",this.form.description=""):"edit"===e?(this.addOrEditDialog.action="edit",this.addOrEditDialog.title="修改分类",this.addOrEditDialog.currentData=t,this.form.id=this.addOrEditDialog.currentData.id,this.form.name=this.addOrEditDialog.currentData.typeName,this.form.description=this.addOrEditDialog.currentData.remark,this.addOrEditDialog.display=!0):"delete"===e&&(this.addOrEditDialog.action="delete",this.addOrEditDialog.currentData=t,this.deleteType()),"ok"===e?(this.addOrEditDialog.display=!1,"add"===this.addOrEditDialog.action?this.addType():"edit"===this.addOrEditDialog.action&&this.updateType()):"cancel"===e&&(this.addOrEditDialog.display=!1)},deleteType:function(){var e=this;this.ele_confirm("确定删除吗？","warning",function(){e.requestApiFnc("/newsType/delete","delete",{id:e.addOrEditDialog.currentData.id},function(t){var a=t.data,s=a.code,i=(a.map,a.message);a.success;200===s?(e.tips(i,"success"),e.getNewsType()):e.ele_alert(i,"error")})},function(){return e.tips("已取消删除！","info")}),console.log(this.addOrEditDialog.currentData)},addType:function(){var e=this;if(""!==this.form.name&&""!==this.form.description){var t={typeName:this.form.name,remark:this.form.description};this.requestApiFnc("/newsType/add","post",t,function(t){console.log(t);var a=t.data,s=a.code,i=(a.map,a.message);a.success;200===s?e.getNewsType():e.ele_alert(i,"error")})}else this.ele_alert("分类名称和描述不能为空!","warning",function(){return e.addOrEditDialog.display=!0})},updateType:function(){var e=this;if(""!==this.form.name&&""!==this.form.description){var t={id:this.form.id,typeName:this.form.name,remark:this.form.description};this.requestApiFnc("/newsType/update","put",t,function(t){var a=t.data,s=a.code,i=(a.map,a.message);a.success;200===s?(e.tips(i,"success"),e.getNewsType()):e.ele_alert(i,"error")})}else this.ele_alert("分类名称和分类描述不能为空","warning",function(){return e.addOrEditDialog.display=!0})}},mounted:function(){},created:function(){this.toTop(),this.getNewsType()}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("新闻资讯")]),e._v(" "),a("el-breadcrumb-item",[e._v("新闻分类管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("新闻分类")]),e._v(" "),a("span",{staticClass:"description"},[e._v("校园新闻资讯分类的管理")])])],1),e._v(" "),a("TableTools",{staticStyle:{"margin-bottom":"20px"},on:{refresh:e.refresh,addData:e.addData,toggleDisplay:function(t){e.toggleDisplay()}}}),e._v(" "),a("el-row",{staticClass:"panelArea "}),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{width:"50",type:"index",label:"#"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",width:"250",label:"分类名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"分类描述"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.operateDialog("edit",t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.operateDialog("delete",t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"panelArea "})],1),e._v(" "),a("el-dialog",{attrs:{title:e.addOrEditDialog.title,visible:e.addOrEditDialog.display,"append-to-body":!0},on:{"update:visible":function(t){e.$set(e.addOrEditDialog,"display",t)}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"分类名称","label-width":e.addOrEditDialog.LabelWidth}},[a("el-input",{attrs:{placeholder:"请输入分类名称",autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类描述","label-width":e.addOrEditDialog.LabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,autocomplete:"off",placeholder:"请输入该分类的描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description","string"==typeof t?t.trim():t)},expression:"form.description"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.operateDialog("cancel")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.operateDialog("ok")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var U=a("VU/8")(L,F,!1,function(e){a("2dH1")},"data-v-1b3e29ee",null).exports,O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("新闻资讯")]),e._v(" "),a("el-breadcrumb-item",[e._v("评论管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("评论管理")]),e._v(" "),a("span",{staticClass:"description"},[e._v("设置评论过滤词 过滤违规内容")])])],1),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:12}},[a("div",[a("h5",[e._v("评论过滤词设置：")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入需要过滤的关键词"},model:{value:e.textarea,callback:function(t){e.textarea="string"==typeof t?t.trim():t},expression:"textarea"}}),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入替换词",clearable:""},model:{value:e.replace,callback:function(t){e.replace="string"==typeof t?t.trim():t},expression:"replace"}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"replace-tips"},[e._v("例如 ： **、违规内容、已屏蔽")])])],1),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.saveFilter()}}},[e._v("保存")])],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"tips"},[a("el-alert",{attrs:{title:"请在左侧过滤词输入框内输入需要过滤的关键词，使用英文逗号分隔开各关键词，例如：关键词1,关键词2,关键词3 用户发布的评论中包含左侧设置的关键词时，被命中的关键词将会被你设置的 替换词 替换，以此达到屏蔽违规内容的目的。",type:"info"}})],1)])],1)],1)],1)},staticRenderFns:[]};var M=a("VU/8")({name:"commentManagement",data:function(){return{textarea:"",replace:""}},methods:{getFilter:function(){var e=this;this.requestApiFnc("/newsDiscuss/getFilter","get",null,function(t){var a=t.data,s=a.code,i=a.map.discussFilter,r=i.keyword,o=i.replaceWord,l=a.message;200===s?(e.textarea=r,e.replace=o):e.ele_alert(l,"error")})},saveFilter:function(){var e=this,t=[],a="",s=this.replace;this.textarea?(""===(t=this.textarea.split(","))[t.length-1]&&t.splice(t.length-1,1),a=t.join(",")):a="",this.requestApiFnc("/newsDiscuss/saveFilter","post",{keyword:a,replaceWord:s},function(t){var a=t.data,s=a.code,i=(a.map,a.message);a.success,200===s?e.ele_alert("过滤词库更新成功！","success"):e.ele_alert(i,"error")})}},created:function(){this.getFilter()}},O,!1,function(e){a("LEZE")},"data-v-15eac133",null).exports,W={name:"link",data:function(){return{linkData:[{name:"百度",url:"wwww.baidu.com",description:"baidu"},{name:"腾讯网",url:"wwww.qq.com",description:"tencent"},{name:"新浪微博",url:"https://www.weibo.com/",description:"weibo"},{name:"今日头条",url:"https://www.toutiao.com/",description:"bytedance"},{name:"哔哩哔哩",url:"https://www.bilibili.com/",description:"bilibili"}],fullscreenLoading:!1}},methods:{getLink:function(){var e=this;this.requestApiFnc("/newsTurn/getAll","get",null,function(t){var a=t.data,s=a.code,i=a.map.turn,r=a.message;a.success;200===s?e.linkData=i:e.ele_alert(r,"error")})},addLink:function(){this.linkData.push({name:"",url:"",description:""})},deleteLink:function(e){var t=this;this.ele_confirm("确定删除吗？","warning",function(){t.linkData.splice(e,1),t.tips("已删除，保存后生效！","success")},function(){return t.tips("已取消删除！","info")})},saveLink:function(){},drag:function(e,t){e.dataTransfer.setData("index",t)},drop:function(e,t){e.preventDefault();var a=parseInt(e.dataTransfer.getData("index")),s=parseInt(t);console.log("start",a),console.log("drop",s),a-s>0?(console.log("要拖拽的元素的索引 大于 当前位置的元素的索引"),this.linkData.splice(s,0,this.linkData[a]),console.log("删除"+a+1),this.linkData.splice(a+1,1)):a-s<0?(console.log("要拖拽的元素的索引  小于 当前位置的元素的索引"),this.linkData.splice(s+1,0,this.linkData[a]),this.linkData.splice(a,1)):console.log("什么也不用做")},allowDrop:function(e){e.preventDefault()}},mounted:function(){},created:function(){this.toTop()}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("系统设置")]),e._v(" "),a("el-breadcrumb-item",[e._v("友情链接管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("友情链接")]),e._v(" "),a("span",{staticClass:"description"},[e._v("管理网站的友情链接")])])],1),e._v(" "),a("el-row",{staticClass:"panelArea "},[a("el-col",{attrs:{span:24}},[a("ul",{staticClass:"slideManage"},[a("li",{staticClass:"s-header"},[a("div",{staticClass:"li_item th order"},[e._v("#")]),e._v(" "),a("div",{staticClass:"li_item th title"},[e._v("名称")]),e._v(" "),a("div",{staticClass:"li_item th url"},[e._v("链接")]),e._v(" "),a("div",{staticClass:"li_item th description"},[e._v("描述")]),e._v(" "),a("div",{staticClass:"li_item th option"},[e._v("操作")])]),e._v(" "),e._l(e.linkData,function(t,s){return a("li",{key:s,staticClass:"li_row",attrs:{draggable:"true"},on:{dragstart:function(t){e.drag(t,s)},drop:function(t){e.drop(t,s)},dragover:function(t){e.allowDrop(t)}}},[a("div",{staticClass:"li_item order"},[e._v(e._s(s+1))]),e._v(" "),a("div",{staticClass:"li_item title"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"item.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入站点名称"},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"li_item url"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.url,expression:"item.url",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"链接需加上 http:// 或 https://"},domProps:{value:t.url},on:{input:function(a){a.target.composing||e.$set(t,"url",a.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"li_item description"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.description,expression:"item.description",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入描述"},domProps:{value:t.description},on:{input:function(a){a.target.composing||e.$set(t,"description",a.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"li_item option"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.deleteLink(s)}}},[e._v("删除")])],1)])})],2)])],1),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addLink()}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.saveLink()}}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(W,P,!1,function(e){a("KUdN")},"data-v-419a26ec",null).exports,H={name:"userManagement",data:function(){var e=this;return{loading:!0,action:"",currentPage:1,page_total:0,page_size:10,userID:"",dialogVisible:!1,dialogFormNew:!1,formLabelWidth:"80px",formRulers:{userName:[{validator:function(t,a,s){return a?a.length<3||a.length>15?s(new Error("用户名长度要求3-15字符")):void e.requestApi("checkName",function(e){if(!e)return s(new Error("该用户名不可用"));s()}):s(new Error("用户名不能为空"))},trigger:"blur"}],phone:[{validator:function(t,a,s){return a?11!==a.length||isNaN(a)?s(new Error("手机号格式不正确")):void e.requestApi("checkPhone",function(e){if(!e)return s(new Error("该手机号不可用"));s()}):s(new Error("手机号不能为空"))},trigger:"blur"}],email:[{validator:function(t,a,s){return a?-1===a.indexOf("@")?s(new Error("邮箱格式不正确")):void e.requestApi("checkEmail",function(e){if(!e)return s(new Error("该邮箱不可用"));s()}):s(new Error("邮箱不能为空"))},trigger:"blur"}],password:[{validator:function(e,t,a){return t?t.length<=5?a(new Error("密码安全性过低")):void a():a(new Error("密码不能为空"))},trigger:"blur"}]},fromCheck1:{userName:!1,phone:!1,email:!1},form_user:{userName:"",gender:"男",realName:"",role:"普通用户",status:"1",phone:"",email:"",password:"",userQq:""},dialogText:"",search:"",search_select:"userName",tableData:[]}},methods:{handleSizeChange:function(e){this.page_size=e,this.currentPage=1,this.requestApi("getUser")},handleCurrentChange:function(e){this.currentPage=e,this.requestApi("getUser")},handleClick:function(e){console.log(e)},openDialog:function(e,t){if("delete"===e)this.action="delete",this.userID=t.id,this.dialogVisible=!0,this.dialogText="确认删除该用户吗？";else if("add"===e)this.userID="",this.action="add",this.dialogText="新增用户",this.dialogFormNew=!0,this.form_user={userName:"",gender:"男",realName:"",role:"普通用户",status:"1",phone:"",email:"",password:"",userQq:""};else if("edit"===e){for(var a in this.action="edit",this.userID=t.id,t)t.hasOwnProperty(a)&&(this.form_user[a]=t[a]);"正常"===this.form_user.status?this.form_user.status="1":"封禁"===this.form_user.status&&(this.form_user.status="0"),this.form_user.password="",this.dialogText="编辑用户",this.dialogFormNew=!0}},closeUserDialog:function(){this.$refs.userForm.clearValidate()},dialogConfirm:function(e){var t=this;"delete"===this.action?"cancel"===e?(this.dialogVisible=!1,this.action=""):(console.log("删除用户",this.userID),this.requestApi("delete"),this.dialogVisible=!1,this.action=""):"add"===this.action?"cancel"===e?(this.dialogFormNew=!1,this.action=""):(console.log("新增用户"),this.$refs.userForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.requestApi("add"),t.dialogFormNew=!1})):"edit"===this.action&&("cancel"===e?this.dialogFormNew=!1:(console.log("保存编辑的用户"),this.$refs.userForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.requestApi("edit"),t.dialogFormNew=!1,console.log("success！"),t.requestApi("getUser")})))},refresh:function(){this.search="",this.requestApi("getUser")},requestApi:function(e,t){var a=this;switch(e){case"add":this.$axios.post("/user/register",{userName:this.form_user.userName,password:this.form_user.password,realName:this.form_user.realName,gender:this.form_user.gender,phone:this.form_user.phone,userImg:"1",userQq:this.form_user.userQq,email:this.form_user.email,status:this.form_user.status}).then(function(e){200===e.data.code?(a.tips(e.data.message,"success"),a.requestApi("getUser")):a.tips(e.data.message,"warning")}).catch(function(e){console.log(e)});break;case"edit":this.$axios.put("/user/update",{id:this.userID,userName:this.form_user.userName,password:this.form_user.password,realName:this.form_user.realName,gender:this.form_user.gender,phone:this.form_user.phone,userImg:"1",userQq:this.form_user.userQq,email:this.form_user.email,status:this.form_user.status}).then(function(e){200===e.data.code?(a.tips("更新成功！","success"),a.requestApi("getUser")):a.tips(e.data.message,"warning")}).catch(function(e){});break;case"delete":this.$axios.delete("/user/delete",{params:{userId:this.userID}}).then(function(e){200===e.data.code?(a.tips("删除成功！","success"),a.requestApi("getUser")):a.tips(e.data.message,"warning")}).catch(function(e){a.tips("系统出错！","error")});break;case"getUser":if(""!==this.search)return void this.requestApi("search");this.loading=!0,this.$axios.get("/user/getAll",{params:{pageNum:this.currentPage,pageSize:this.page_size}}).then(function(e){if(200===e.data.code){var t=e.data.map.pageInfo.list;a.page_total=e.data.map.pageInfo.total;var s=a;a.tableData=t.map(function(e){return 1===e.status?e.status="正常":0===e.status&&(e.status="封禁"),e.createDate=s.showTime(e.createDate),e.loginTime?e.loginTime=s.showTime(e.loginTime):e.loginTime="暂无记录",e})}else a.tips(e.data.message,"warning");a.loading=!1}).catch(function(e){a.tips("系统出错！","error"),console.log(e),a.loading=!1});break;case"checkName":this.$axios.get("/user/checkName",{params:{userId:this.userID,userName:this.form_user.userName}}).then(function(e){200===e.data.code?(a.fromCheck1.userName=!0,t(a.fromCheck1.userName),a.form_user.hahah="dd"):500===e.data.code&&(a.fromCheck1.userName=!1,t(a.fromCheck1.userName))}).catch(function(e){a.tips("系统出错！","error"),console.log(e)});break;case"checkEmail":var s=this;console.log(s.form_user),this.$axios.get("/user/checkEmail",{params:{userId:this.userID,email:this.form_user.email}}).then(function(e){200===e.data.code?(s.fromCheck1.email=!0,t(s.fromCheck1.email)):500===e.data.code&&(s.fromCheck1.email=!1,t(s.fromCheck1.email))}).catch(function(e){a.tips("系统出错！","error"),console.log(e)});break;case"checkPhone":this.$axios.get("/user/checkPhone",{params:{userId:this.userID,phone:this.form_user.phone}}).then(function(e){200===e.data.code?(a.fromCheck1.phone=!0,t(a.fromCheck1.phone)):500===e.data.code&&(a.fromCheck1.phone=!1,t(a.fromCheck1.phone))}).catch(function(e){a.tips("系统出错！","error"),console.log(e)});break;case"search":if(""===this.search)return void this.tips("搜索内容不能为空！","warning");this.loading=!0,this.$axios.get("/user/queryUser",{params:{query:this.search,type:this.search_select,pageNum:this.currentPage,pageSize:this.page_size}}).then(function(e){if(200===e.data.code){var t=e.data.map.pageInfo.list;if(0===t.length)return a.tips("没有查询到数据","info"),a.tableData=[],a.page_total=0,void(a.loading=!1);a.page_total=e.data.map.pageInfo.total;var s=a;a.tableData=t.map(function(e){return 1===e.status?e.status="正常":0===e.status&&(e.status="封禁"),e.createDate=s.showTime(e.createDate),e.loginTime?e.loginTime=s.showTime(e.loginTime):e.loginTime="暂无记录",e})}else 500===e.data.code&&a.tips(e.data.message,"warning");a.loading=!1}).catch(function(e){a.tips("系统出错！","error"),console.log(e),a.loading=!1})}}},created:function(){this.requestApi("getUser")}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("用户")]),e._v(" "),a("el-breadcrumb-item",[e._v("用户管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("用户管理")]),e._v(" "),a("span",{staticClass:"description"},[e._v("新增、删除、修改用户信息")])])],1),e._v(" "),a("el-row",{staticClass:"panelArea "},[a("el-col",{attrs:{span:8,offset:12,md:8,lg:8,xs:24,sm:24}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入搜索内容",size:"small"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择........"},slot:"prepend",model:{value:e.search_select,callback:function(t){e.search_select=t},expression:"search_select"}},[a("el-option",{attrs:{label:"用户名",value:"userName"}}),e._v(" "),a("el-option",{attrs:{label:"姓名",value:"realName"}}),e._v(" "),a("el-option",{attrs:{label:"手机",value:"phone"}}),e._v(" "),a("el-option",{attrs:{label:"邮箱",value:"email"}}),e._v(" "),a("el-option",{attrs:{label:"QQ",value:"qq"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.requestApi("search")}},slot:"append"})],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"left","box-sizing":"border-box","padding-left":"25px"},attrs:{span:4,md:4,lg:4,xs:24,sm:24}},[a("el-tooltip",{attrs:{content:"刷新",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small",plain:""},on:{click:e.refresh}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"新增",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small",plain:""},on:{click:function(t){e.openDialog("add")}}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{width:"50",type:"index",label:"#"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",width:"120",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",width:"50",label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"role",width:"120",label:"角色"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",width:"120",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",prop:"phone",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userQq",width:"150",label:"QQ"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createDate",width:"160",label:"注册时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loginTime",width:"160",label:"最后登录时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.openDialog("edit",t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.openDialog("delete",t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40,50],"page-size":e.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.page_total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1),e._v(" "),a("el-dialog",{attrs:{"append-to-body":!0,title:"删除用户",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v(e._s(this.dialogText))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogConfirm("cancel")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogConfirm("confirm")}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{"append-to-body":!0,title:this.dialogText,visible:e.dialogFormNew},on:{close:e.closeUserDialog,"update:visible":function(t){e.dialogFormNew=t}}},[a("el-form",{ref:"userForm",attrs:{model:e.form_user,rules:e.formRulers,size:"small"}},[a("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"userName"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"（必填）"},model:{value:e.form_user.userName,callback:function(t){e.$set(e.form_user,"userName",t)},expression:"form_user.userName"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form_user.realName,callback:function(t){e.$set(e.form_user,"realName",t)},expression:"form_user.realName"}})],1)],1)],1),e._v(" "),"add"===this.action?a("el-form-item",{attrs:{label:"密码",prop:"password","label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"（必填）"},model:{value:e.form_user.password,callback:function(t){e.$set(e.form_user,"password",t)},expression:"form_user.password"}})],1)],1)],1):e._e(),e._v(" "),"edit"===this.action?a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"（不填写此处将不会修改用户的密码）"},model:{value:e.form_user.password,callback:function(t){e.$set(e.form_user,"password",t)},expression:"form_user.password"}})],1)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[a("el-radio-group",{model:{value:e.form_user.gender,callback:function(t){e.$set(e.form_user,"gender",t)},expression:"form_user.gender"}},[a("el-radio",{attrs:{label:"男"}}),e._v(" "),a("el-radio",{attrs:{label:"女"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.form_user.role,callback:function(t){e.$set(e.form_user,"role",t)},expression:"form_user.role"}},[a("el-option",{attrs:{label:"普通用户",value:"普通用户"}}),e._v(" "),a("el-option",{attrs:{label:"新闻发布员",value:"新闻发布员"}}),e._v(" "),a("el-option",{attrs:{label:"管理员",value:"管理员"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form_user.status,callback:function(t){e.$set(e.form_user,"status",t)},expression:"form_user.status"}},[a("el-option",{attrs:{label:"正常",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"封禁",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"电话","label-width":e.formLabelWidth,prop:"phone"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"（必填）"},model:{value:e.form_user.phone,callback:function(t){e.$set(e.form_user,"phone",t)},expression:"form_user.phone"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth,prop:"email"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"（必填）"},model:{value:e.form_user.email,callback:function(t){e.$set(e.form_user,"email",t)},expression:"form_user.email"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ","label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form_user.userQq,callback:function(t){e.$set(e.form_user,"userQq",t)},expression:"form_user.userQq"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogConfirm("cancel")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogConfirm("confirm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var j=a("VU/8")(H,B,!1,function(e){a("GsCW")},"data-v-632778db",null).exports,Q={name:"role",data:function(){return{dialogText:"修改角色",dialogFormDisplay:!1,dialogDeleteDisplay:!1,roleNameValue:"",roleId:"",roleList:[],formLabelWidth:"60px",action:"",form_role:{name:"",checkList:["资讯发布","资讯管理","资讯栏目管理","用户管理"],description:""},tableData:[]}},created:function(){console.log(this.tableData),this.changeTableData(),this.getRole()},methods:{dialogConfirm:function(e){"confirm"===e&&"add"===this.action?(this.requestApi("add"),this.dialogFormDisplay=!1):"confirm"===e&&"edit"===this.action?(this.requestApi("edit"),this.dialogFormDisplay=!1):"confirm"===e&&"delete"===this.action?(this.requestApi("delete"),this.dialogDeleteDisplay=!1):"cancel"===e&&(this.dialogDeleteDisplay=!1,this.dialogFormDisplay=!1)},openDialog:function(e,t){this.action="","add"===e?(this.dialogText="添加角色",this.action="add",this.dialogFormDisplay=!0):"edit"===e?(console.log(t),this.dialogText="编辑角色",this.action="edit",this.roleId=t.id,this.form_role.name=t.roleName,this.form_role.description=t.remark,this.dialogFormDisplay=!0):"delete"===e&&(this.dialogText="确定删除该角色吗？属于该角色的用户将会重新分配到普通用户角色！",this.roleId=t.id,this.action="delete",this.dialogDeleteDisplay=!0)},getTable:function(){},changeTableData:function(){this.tableData.forEach(function(e){e.pst="";for(var t=0;t<e.permission.length;t++)e.permission[t].usable&&(e.pst+=e.permission[t].name+"、")})},getRole:function(){this.requestApi("getAllRole")},requestApi:function(e){var t=this;"getAllRole"===e?this.$axios.get("/role/getAll",{params:{pageNum:1,pageSize:1e3}}).then(function(e){console.log(e),200===e.data.code&&(t.roleList=e.data.map.pageInfo.list,console.log(roleList))}).catch(function(e){}):"add"===e?this.$axios.post("/role/add",{roleName:this.form_role.name,remark:this.form_role.description}).then(function(e){200===e.data.code&&(t.tips("添加成功！","success"),t.requestApi("getAllRole")),console.log(e)}).catch(function(e){t.tips("添加角色失败！","error"),console.log(e)}):"edit"===e?this.$axios.put("/role/update",{id:this.roleId,roleName:this.form_role.name,remark:this.form_role.description}).then(function(e){200===e.data.code&&(t.tips("修改成功！","success"),t.requestApi("getAllRole")),console.log(e)}).catch(function(e){t.tips("修改失败！","error"),console.log(e)}):"delete"===e?this.$axios.delete("/role/delete",{params:{id:this.roleId}}).then(function(e){200===e.data.code&&(t.tips("删除成功！","success"),t.requestApi("getAllRole")),console.log(e)}).catch(function(e){t.tips("删除失败！","error"),console.log(e)}):"checkName"===e&&this.$axios.delete("/role/checkName",{params:{roleId:this.roleId,roleName:this.roleNameValue}}).then(function(e){console.log(e)}).catch(function(e){})}}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("用户")]),e._v(" "),a("el-breadcrumb-item",[e._v("角色与权限")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("角色与权限")]),e._v(" "),a("span",{staticClass:"description"},[e._v("对系统中的用户角色与权限进行控制")])])],1),e._v(" "),a("el-row",{staticClass:"panelArea "},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.openDialog("add")}}},[e._v("添加角色")])],1)],1),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleList,border:""}},[a("el-table-column",{attrs:{type:"index",label:"ID",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",width:"150",label:"角色名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pst",label:"权限"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",width:"400",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.openDialog("edit",t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.openDialog("delete",t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{"append-to-body":!0,title:this.dialogText,visible:e.dialogFormDisplay},on:{"update:visible":function(t){e.dialogFormDisplay=t}}},[a("el-form",{attrs:{model:e.form_role}},[a("el-form-item",{attrs:{label:"角色","label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"（必填）"},model:{value:e.form_role.name,callback:function(t){e.$set(e.form_role,"name",t)},expression:"form_role.name"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"权限","label-width":e.formLabelWidth}},[a("el-checkbox-group",{model:{value:e.form_role.checkList,callback:function(t){e.$set(e.form_role,"checkList",t)},expression:"form_role.checkList"}},[a("el-checkbox",{attrs:{label:"资讯发布"}}),e._v(" "),a("el-checkbox",{attrs:{label:"资讯管理"}}),e._v(" "),a("el-checkbox",{attrs:{label:"资讯栏目管理"}}),e._v(" "),a("el-checkbox",{attrs:{label:"用户管理"}}),e._v(" "),a("el-checkbox",{attrs:{label:"数据库管理"}}),e._v(" "),a("el-checkbox",{attrs:{label:"系统管理"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述","label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"一句话描述该角色"},model:{value:e.form_role.description,callback:function(t){e.$set(e.form_role,"description",t)},expression:"form_role.description"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogConfirm("cancel")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogConfirm("confirm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{"append-to-body":!0,title:"删除角色",visible:e.dialogDeleteDisplay,width:"30%"},on:{"update:visible":function(t){e.dialogDeleteDisplay=t}}},[a("span",[e._v(e._s(this.dialogText))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogConfirm("cancel")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogConfirm("confirm")}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var Y=a("VU/8")(Q,G,!1,function(e){a("DesA")},"data-v-650b2374",null).exports,Z={name:"config",data:function(){return{form:{name:"",keyword:"",desc:"",region:"",date1:"",date2:"",open:!1,imageUrl:""}}},method:{onSubmit:function(){console.log("submit!")},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main wow fadeIn"},[a("el-row",{staticClass:"topArea wow fadeInDown",attrs:{"data-wow-delay":"0.5s"}},[a("el-col",{attrs:{span:24}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("系统设置")]),e._v(" "),a("el-breadcrumb-item",[e._v("基础信息")])],1)],1)],1),e._v(" "),a("div",{staticClass:"mainBody"},[a("el-row",{staticClass:"headArea wow fadeInDown panelArea",attrs:{"data-wow-delay":"0.3s"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"title"},[e._v("基础信息")]),e._v(" "),a("span",{staticClass:"description"},[e._v("网站基础信息设置")])])],1),e._v(" "),a("el-row",{staticClass:"panelArea"},[a("el-col",{attrs:{span:24}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"网站LOGO"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.form.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"网站标题"}},[a("el-input",{attrs:{placeholder:"网站显示的标题"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站关键词"}},[a("el-input",{attrs:{placeholder:"以英文逗号隔开 用于SEO优化"},model:{value:e.form.keyword,callback:function(t){e.$set(e.form,"keyword",t)},expression:"form.keyword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站标语"}},[a("el-input",{attrs:{placeholder:"网站slogan  宣传口号"},model:{value:e.form.keyword,callback:function(t){e.$set(e.form,"keyword",t)},expression:"form.keyword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站描述"}},[a("el-input",{attrs:{type:"textarea",placeholder:"描述网站的主要功能与内容 用于SEO优化"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否开启网站"}},[a("el-switch",{model:{value:e.form.open,callback:function(t){e.$set(e.form,"open",t)},expression:"form.open"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否允许登录"}},[a("el-switch",{model:{value:e.form.open,callback:function(t){e.$set(e.form,"open",t)},expression:"form.open"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否允许注册"}},[a("el-switch",{model:{value:e.form.open,callback:function(t){e.$set(e.form,"open",t)},expression:"form.open"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),a("el-button",[e._v("取消")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var K=a("VU/8")(Z,J,!1,function(e){a("TDzs")},"data-v-50e01f92",null).exports;r.default.use(n.a);var X=new n.a({routes:[{path:"/login",name:"Login",component:u},{path:"/register",name:"Register",component:m},{path:"/",name:"Frame",component:v,children:[{path:"/",redirect:"home"},{path:"home",name:"Home",component:b},{path:"newsManagement",name:"newsManagement",component:I},{path:"releaseNews",name:"releaseNews",component:S},{path:"slideshowManagement",name:"slideshowManagement",component:z},{path:"newsType",name:"newsType",component:U},{path:"comments",name:"comments",component:M},{path:"userManagement",name:"userManagement",component:j},{path:"role",name:"role",component:Y},{path:"config",name:"config",component:K},{path:"link",name:"link",component:V}]}]}),ee=a("NYxO"),te=a("XLwt"),ae=a.n(te),se=a("OS1Z"),ie=a.n(se),re=(a("pw1w"),a("zL8q")),oe=a.n(re);a("MU8w"),a("VUEL");r.default.use(ee.a);var le=new ee.a.Store({state:{company:{logo:"",tel:"",qq:[],address:"",QrCode:"",link:[],beian:"",name:""},isLogin:{state:0}},mutations:{setLogin:function(e,t){e.isLogin.state=t}}}),ne=a("riWn"),ce=a.n(ne),de=a("xrTZ"),ue=a("mtWM"),pe=a.n(ue),me=a("//Fk"),he=a.n(me),fe=a("Zrlr"),ve=a.n(fe),ge=a("wxAW"),_e=a.n(ge),be=new(function(){function e(){ve()(this,e),this.needLoadingRequestCount=0}return _e()(e,[{key:"showFullScreenLoading",value:function(){0===this.needLoadingRequestCount&&this.startLoading(),this.needLoadingRequestCount++}},{key:"startLoading",value:function(){this.lo=re.Loading.service({lock:!0,text:"拼命加载中...",spinner:"fa fa-spinner fa-spin",background:"transparent"})}},{key:"tryHideFullScreenLoading",value:function(){this.needLoadingRequestCount<=0||(this.needLoadingRequestCount--,0===this.needLoadingRequestCount&&this.endLoading())}},{key:"endLoading",value:function(){this.lo.close()}}]),e}()),we=window.CUIT_server.API_ROOT,ye=window.CUIT_server.TIMEOUT,Ce=pe.a.create({baseURL:we,timeout:ye,headers:{"Content-Type":"application/json"}});Ce.interceptors.request.use(function(e){be.showFullScreenLoading(),console.log(e);var t=localStorage.getItem("login");return t?e.headers.Authorization=de.Base64.decode(JSON.parse(t)):-1!==e.url.indexOf("login")?(console.log("没有登录"),X.push({path:"/login"})):console.log("登录接口 无需校验"),e},function(e){return he.a.reject(e)}),Ce.interceptors.response.use(function(e){return setTimeout(function(){be.tryHideFullScreenLoading()},300),e},function(e){return be.tryHideFullScreenLoading(),he.a.reject(e)});var xe=Ce;a("lGVK");r.default.use(ie.a),r.default.use(ce.a),r.default.use(ee.a),r.default.use(oe.a),r.default.config.productionTip=!1,r.default.prototype.$base64=de.Base64,r.default.prototype.$echarts=ae.a,r.default.prototype.$axiosTools=pe.a,r.default.prototype.$axios=xe,r.default.prototype.setStorage=function(e,t){localStorage.setItem(e,i()(t))},r.default.prototype.getStorage=function(e){return JSON.parse(localStorage.getItem(e))},r.default.prototype.removeStorage=function(e){localStorage.removeItem(e)},new r.default({el:"#app",router:X,store:le,components:{App:l},template:"<App/>"})},TDzs:function(e,t){},UziH:function(e,t,a){e.exports=a.p+"static/img/avatar.f1c6a10.jpg"},VUEL:function(e,t){},ZsoT:function(e,t){},fIx0:function(e,t){},"h91+":function(e,t){},kRH2:function(e,t){},lGVK:function(e,t){},pw1w:function(e,t){},riWn:function(e,t){t.install=function(e,t){e.prototype.tips=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";this.$message({message:e,type:t})},e.prototype.ele_confirm=function(e,t,a,s){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"提示",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"确定",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"取消";this.$confirm(e,i,{confirmButtonText:r,cancelButtonText:o,type:t}).then(function(){a()}).catch(function(){s()})},e.prototype.ele_alert=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"提示",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"确定";this.$alert(e,{confirmButtonText:r,title:i,type:t}).then(function(e){"function"==typeof a&&a()}).catch(function(e){"function"==typeof s&&s()})},e.prototype.notify=function(e,t,a){this.$notify({title:t,message:a,type:e})},e.prototype.requestApiFnc=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=this,i=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if("get"===t)this.$axios.get(e,{params:a}).then(function(e){i(e)}).catch(function(e){if(r&&r(e),e.response){if(403===e.response.status)return void s.ele_alert("无权访问","error");s.ele_alert("系统错误，请稍后再试！ [Type:"+t+" , Status code:"+e.response.status+"]","error")}else s.ele_alert("未知错误！","error"),console.log(e)});else if("post"===t)this.$axios.post(e,a).then(function(e){i(e)}).catch(function(e){if(r&&r(e),e.response){if(403===e.response.status)return void s.ele_alert("无权访问","error");s.ele_alert("系统错误，请稍后再试！ [Type:"+t+" , Status code:"+e.response.status+"]","error")}else s.ele_alert("未知错误！","error"),console.log(e)});else if("post2"===t){var o="";for(var l in a)a.hasOwnProperty(l)&&(o+=l+"="+a[l]+"&");console.log(o),this.$axios.post(e+"?"+o).then(function(e){i(e)}).catch(function(e){if(r&&r(e),e.response){if(403===e.response.status)return void s.ele_alert("无权访问","error");s.ele_alert("系统错误，请稍后再试！ [Type:"+t+" , Status code:"+e.response.status+"]","error")}else s.ele_alert("未知错误！","error"),console.log(e)})}else"put"===t?this.$axios.put(e,a).then(function(e){i(e)}).catch(function(e){if(r&&r(e),e.response){if(403===e.response.status)return void s.ele_alert("无权访问","error");s.ele_alert("系统错误，请稍后再试！ [Type:"+t+" , Status code:"+e.response.status+"]","error")}else s.ele_alert("未知错误！","error"),console.log(e)}):"delete"===t?this.$axios.delete(e,{params:a}).then(function(e){i(e)}).catch(function(e){if(r&&r(e),e.response){if(403===e.response.status)return void s.ele_alert("无权访问","error");s.ele_alert("系统错误，请稍后再试！ [Type:"+t+" , Status code:"+e.response.status+"]","error")}else s.ele_alert("未知错误！","error"),console.log(e)}):this.ele_alert("请求类型错误！","error")},e.prototype.toTop=function(){window.scrollTo(0,0),setTimeout(function(){document.getElementsByClassName("el-main")[0].scrollTop=0},10)},e.prototype.showTime=function(e){var t,a=void 0,s=void 0,i=void 0,r=void 0,o=void 0,l=void 0;return t=(l=e?new Date(e):new Date).getFullYear(),(a=l.getMonth()+1)<10&&(a="0"+a),(s=l.getDate())<10&&(s="0"+s),(i=l.getHours())<10&&(i="0"+i),(r=l.getMinutes())<10&&(r="0"+r),(o=l.getSeconds())<10&&(o="0"+o),t+"-"+a+"-"+s+" "+i+":"+r+":"+o}}},v8oY:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b0bcbbbddaa277692379.js.map